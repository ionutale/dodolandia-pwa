(this["webpackJsonpdodolandia-pwa"]=this["webpackJsonpdodolandia-pwa"]||[]).push([[0],{12:function(e,t,a){e.exports={Sidebar:"sidebar_Sidebar__3-4qe",LinksList:"sidebar_LinksList__2NLIl",Open:"sidebar_Open__2bJA_",Close:"sidebar_Close__1J4yu"}},14:function(e,t,a){e.exports={ClanContainer:"clan_ClanContainer__3ajVo",MemberList:"clan_MemberList__285WS",MemberInfo:"clan_MemberInfo__1mUxs"}},15:function(e,t,a){e.exports={CompareTable:"warAttackLog_CompareTable__24U5c",Winner:"warAttackLog_Winner__vaG4N",Looser:"warAttackLog_Looser__6MzMU"}},31:function(e,t,a){e.exports={CompareSection:"cwl_CompareSection__2-UFM",CompareTable:"cwl_CompareTable__2JDdQ"}},32:function(e,t,a){e.exports={Loading:"cwl_war_Loading__1EuD6"}},33:function(e,t,a){e.exports={CompareTable:"warMap_CompareTable__UKrim",Winner:"warMap_Winner__TuWSl",Looser:"warMap_Looser__2NVRH"}},38:function(e){e.exports=JSON.parse('{"name":"dodolandia-pwa","version":"0.18.0","private":true,"homepage":"https://ionutale.github.io/dodolandia-pwa","dependencies":{"axios":"^0.19.0","gh-pages":"^2.1.1","react":"^16.11.0","react-dom":"^16.11.0","react-hamburger-menu":"^1.1.1","react-router":"^5.1.2","react-router-dom":"^5.1.2","react-scripts":"3.2.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build","release":"npm version minor && git merge master && git checkout master && git merge develop && git push && git checkout develop && git push && npm run deploy"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},40:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},46:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),o=(a(45),a(7)),m=(a(46),a(14),a(31)),s=a.n(m),u=function(e){var t=Object(n.useContext)(B),a=t.state,l=(t.dispatch,function(e,t){var a=e.sort((function(e,t){return e.townHallLevel>t.townHallLevel?-1:e.townHallLevel<t.townHallLevel?1:0}));return a.length-1>=t?"th".concat(a[t].townHallLevel," :").concat(a[t].name):" "}),c=null===a.cwl?void 0:a.cwl.clans;return r.a.createElement("div",null,r.a.createElement("table",{className:s.a.CompareTable},r.a.createElement("tbody",null,function(e){if(void 0===e)return null;var t=function(e){return e.sort((function(e,t){return e.members.length>t.members.length?-1:e.members.length<t.members.length?1:0}))[0].members.length}(e),a=[];a.push(r.a.createElement("tr",{key:"head-key"},r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement("img",{src:e[0].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[0].name," ",r.a.createElement("br",null)," Membri:",e[0].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[1].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[1].name," ",r.a.createElement("br",null)," Membri:",e[1].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[2].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[2].name," ",r.a.createElement("br",null)," Membri:",e[2].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[3].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[3].name," ",r.a.createElement("br",null)," Membri:",e[3].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[4].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[4].name," ",r.a.createElement("br",null)," Membri:",e[4].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[5].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[5].name," ",r.a.createElement("br",null)," Membri:",e[5].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[6].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[6].name," ",r.a.createElement("br",null)," Membri:",e[6].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[7].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[7].name," ",r.a.createElement("br",null)," Membri:",e[7].members.length)));for(var n=0;n<t;n++)a.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,n+1),r.a.createElement("td",null,l(e[0].members,n)),r.a.createElement("td",null,l(e[1].members,n)),r.a.createElement("td",null,l(e[2].members,n)),r.a.createElement("td",null,l(e[3].members,n)),r.a.createElement("td",null,l(e[4].members,n)),r.a.createElement("td",null,l(e[5].members,n)),r.a.createElement("td",null,l(e[6].members,n)),r.a.createElement("td",null,l(e[7].members,n))));return a}(c))))},i=a(11),d=a.n(i),p=a(13),b=a(32),g=a.n(b),E=(a(33),a(34)),f=a(19),h=a(15),v=a.n(h);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=function(e){var t=e.clanLeagueWarTag,a=function(e,t){return e.order<t.order?-1:e.order<t.order?1:0};var n=function(e,t,a,n){return r.a.createElement("td",{className:n?v.a.Winner:v.a.Looser},r.a.createElement("p",null,r.a.createElement("b",null,a,". th",t)," ",e))},l=function(e){var t=function(e){var t=[].concat(Object(f.a)(e.clan.members.map((function(t){return _({},t,{clan:e.clan.name})}))),Object(f.a)(e.opponent.members.map((function(t){return _({},t,{clan:e.opponent.name})}))));return t.filter((function(e){return void 0!==e.attacks})).map((function(e){return e.attacks})).flat().map((function(e){return _({},e,{attackerName:t.find((function(t){return t.tag===e.attackerTag})),defenderName:t.find((function(t){return t.tag===e.defenderTag}))})})).sort(a)}(e),l=e.clan.name;return t.map((function(e,t){var a,c;return l===e.attackerName.clan?(a=n(e.attackerName.name,e.attackerName.townhallLevel,e.attackerName.mapPosition,!0),c=n(e.defenderName.name,e.defenderName.townhallLevel,e.defenderName.mapPosition,!1)):(a=n(e.defenderName.name,e.defenderName.townhallLevel,e.defenderName.mapPosition,!1),c=n(e.attackerName.name,e.attackerName.townhallLevel,e.attackerName.mapPosition,!0)),r.a.createElement("tr",{key:t},function(e){return r.a.createElement("td",null,e)}(t),a,function(e){var t=e.stars,a=e.destructionPercentage;return r.a.createElement("td",null,r.a.createElement("p",null,a,"%"),r.a.createElement("p",null,"\u2b50".repeat(t)))}(e),c)}))};return r.a.createElement("div",null,r.a.createElement("table",{className:v.a.CompareTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement("img",{src:t.clan.badgeUrls.small,alt:"clanBadge"}),r.a.createElement("p",null,t.clan.name),r.a.createElement("p",null,"'\u2b50'",t.clan.stars),r.a.createElement("p",null,"\u2694",t.clan.attacks)),r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("img",{src:t.opponent.badgeUrls.small,alt:"clanBadge"}),r.a.createElement("p",null,t.opponent.name),r.a.createElement("p",null,"'\u2b50'",t.opponent.stars),r.a.createElement("p",null,"\u2694",t.opponent.attacks)))),r.a.createElement("tbody",null,l(t))))},k=a(35),L=a.n(k).a.create({baseURL:"https://dodolandia.herokuapp.com/",headers:{common:{}}}),j=function(e){return L.get("".concat("/api/v2/coc","/clanLeagueSync/").concat(e))},y=function(e){return L.get("".concat("/api/v2/coc","/clanLeagueWarsSync/").concat(e))},C=a(6),N=function(e){var t=e.match,a=Object(C.f)().tag;console.log("props.tag:",a,t);var l=Object(n.useState)(!1),c=Object(o.a)(l,2),m=c[0],s=c[1],u=Object(n.useState)(null),i=Object(o.a)(u,2),b=i[0],E=i[1],f=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),console.log("request data to server for tag:",a),e.next=5,y(a);case 5:t=e.sent,E(t.data),console.log("data.received: ",t.data),s(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("mounted"),f()}),[t]);var h;return r.a.createElement("div",null,m?r.a.createElement("p",{className:g.a.Loading},"Loading ",a):(h=b,console.log("info war is:",h,b,m),null===b?null:r.a.createElement("div",null,r.a.createElement(O,{clanLeagueWarTag:h})," ")))},P=a(38),x=a(12),T=a.n(x),M=a(5),S=Object(C.g)((function(e){var t=e.open,a=void 0===t||t,l=Object(n.useContext)(B),c=(l.state,l.dispatch),m=Object(n.useState)(null),s=Object(o.a)(m,2),u=s[0],i=s[1],b=Object(n.useState)("YQP0P9PP"),g=Object(o.a)(b,2),E=g[0],f=g[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),w=v[0],_=v[1],O=function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"YQP0P9PP",e.prev=1,_(!0),e.next=5,j(a);case 5:n=e.sent,i(n.data),c({type:"UPDATE_CWL",data:n.data}),_(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),_(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();function k(e){return"/cwl/war/"+e.replace(/#/,"")}var L=[T.a.Sidebar,a?T.a.Open:T.a.Close].join(" ");return r.a.createElement("div",{className:L},"#",r.a.createElement("input",{value:E,onChange:function(e){f(e.target.value)}}),r.a.createElement("button",{onClick:O,disabled:w}," Cauta "),r.a.createElement("ul",{className:T.a.LinksList},r.a.createElement("li",null,r.a.createElement(M.b,{to:"/"},"Toate Clanurile")),function(e){return null===e?null:e.rounds.map((function(e,t){return console.log(e.warTags),/#0/.test(e.warTags[0])?null:r.a.createElement("li",{key:t},r.a.createElement("div",null,r.a.createElement("p",null,"Runda ",t+1),r.a.createElement(M.b,{to:k(e.warTags[0])},"Grupul 1 "),r.a.createElement(M.b,{to:k(e.warTags[1])},"Grupul 2 "),r.a.createElement(M.b,{to:k(e.warTags[2])},"Grupul 3 "),r.a.createElement(M.b,{to:k(e.warTags[3])},"Grupul 4 ")))}))}(u)))})),U=a(39),W=a.n(U),B=r.a.createContext("CWL"),D={cwl:null};function A(e,t){switch(console.log(t),t.type){case"UPDATE_CWL":return{cwl:t.data};default:return D}}var H=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useReducer)(A,D),m=Object(o.a)(c,2),s=m[0],i=m[1];return r.a.createElement("div",{className:"App"},r.a.createElement(B.Provider,{value:{state:s,dispatch:i}},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"Menu"},r.a.createElement(W.a,{isOpen:a,menuClicked:function(){return l(!a)},width:28,height:25,strokeWidth:1,rotate:0,color:"white",borderRadius:0,animationDuration:.2})),r.a.createElement("div",{className:"Title"},"Clan War League",r.a.createElement("p",{className:"Version"},"Made With ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," By (_d0do_)  \xa9v",P.version))),r.a.createElement("article",{className:".Content"},r.a.createElement(S,{open:a}),r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/",component:u}),r.a.createElement(C.a,{exact:!0,strict:!0,sensitive:!0,path:"/cwl/war/:tag",component:N})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M.a,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.dc1d2606.chunk.js.map