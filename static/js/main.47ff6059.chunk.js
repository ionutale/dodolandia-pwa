(this["webpackJsonpdodolandia-pwa"]=this["webpackJsonpdodolandia-pwa"]||[]).push([[0],{12:function(e,a,t){e.exports={Sidebar:"sidebar_Sidebar__3-4qe",LinksList:"sidebar_LinksList__2NLIl",Open:"sidebar_Open__2bJA_",Close:"sidebar_Close__1J4yu"}},14:function(e,a,t){e.exports={ClanContainer:"clan_ClanContainer__3ajVo",MemberList:"clan_MemberList__285WS",MemberInfo:"clan_MemberInfo__1mUxs"}},15:function(e,a,t){e.exports={CompareTable:"warAttackLog_CompareTable__24U5c",Winner:"warAttackLog_Winner__vaG4N",Looser:"warAttackLog_Looser__6MzMU"}},31:function(e,a,t){e.exports={CompareSection:"cwl_CompareSection__2-UFM",CompareTable:"cwl_CompareTable__2JDdQ"}},32:function(e,a,t){e.exports={Loading:"cwl_war_Loading__1EuD6"}},33:function(e,a,t){e.exports={CompareTable:"warMap_CompareTable__UKrim",Winner:"warMap_Winner__TuWSl",Looser:"warMap_Looser__2NVRH"}},38:function(e){e.exports=JSON.parse('{"name":"dodolandia-pwa","version":"0.11.0","private":true,"homepage":"https://ionutale.github.io/dodolandia-pwa","dependencies":{"axios":"^0.19.0","gh-pages":"^2.1.1","react":"^16.11.0","react-dom":"^16.11.0","react-hamburger-menu":"^1.1.1","react-router":"^5.1.2","react-router-dom":"^5.1.2","react-scripts":"3.2.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build","release":"npm version minor && git merge master && git checkout master && git merge develop && git push && git checkout develop && git push && npm run deploy"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},40:function(e,a,t){e.exports=t(70)},45:function(e,a,t){},46:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(30),c=t.n(l),o=(t(45),t(7)),m=(t(46),t(14),t(31)),s=t.n(m),u=function(e){var a=Object(n.useContext)(H),t=a.state,l=(a.dispatch,function(e,a){var t=e.sort((function(e,a){return e.townHallLevel>a.townHallLevel?-1:e.townHallLevel<a.townHallLevel?1:0}));return t.length-1>=a?"th".concat(t[a].townHallLevel," :").concat(t[a].name):" "}),c=null===t.cwl?void 0:t.cwl.clans;return r.a.createElement("div",null,r.a.createElement("table",{className:s.a.CompareTable},r.a.createElement("tbody",null,function(e){if(void 0===e)return null;var a=function(e){return e.sort((function(e,a){return e.members.length>a.members.length?-1:e.members.length<a.members.length?1:0}))[0].members.length}(e),t=[];t.push(r.a.createElement("tr",{key:"head-key"},r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement("img",{src:e[0].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[0].name," ",r.a.createElement("br",null)," Membri:",e[0].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[1].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[1].name," ",r.a.createElement("br",null)," Membri:",e[1].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[2].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[2].name," ",r.a.createElement("br",null)," Membri:",e[2].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[3].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[3].name," ",r.a.createElement("br",null)," Membri:",e[3].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[4].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[4].name," ",r.a.createElement("br",null)," Membri:",e[4].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[5].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[5].name," ",r.a.createElement("br",null)," Membri:",e[5].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[6].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[6].name," ",r.a.createElement("br",null)," Membri:",e[6].members.length),r.a.createElement("th",null,r.a.createElement("img",{src:e[7].badgeUrls.small,alt:"clanBadge"}),r.a.createElement("br",null)," ",e[7].name," ",r.a.createElement("br",null)," Membri:",e[7].members.length)));for(var n=0;n<a;n++)t.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,n+1),r.a.createElement("td",null,l(e[0].members,n)),r.a.createElement("td",null,l(e[1].members,n)),r.a.createElement("td",null,l(e[2].members,n)),r.a.createElement("td",null,l(e[3].members,n)),r.a.createElement("td",null,l(e[4].members,n)),r.a.createElement("td",null,l(e[5].members,n)),r.a.createElement("td",null,l(e[6].members,n)),r.a.createElement("td",null,l(e[7].members,n))));return t}(c))))},i=t(11),d=t.n(i),p=t(13),b=t(32),g=t.n(b),E=t(33),f=t.n(E),h=function(e){var a,t=e.clanLeagueWar,n=function(e){return e.sort((function(e,a){return e.mapPosition<a.mapPosition?-1:e.mapPosition<a.mapPosition?1:0}))};return void 0===t||null===t?null:r.a.createElement("div",null,r.a.createElement("table",{className:f.a.CompareTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("img",{src:t.clan.badgeUrls.small,alt:t.clan.name}),r.a.createElement("p",null,t.clan.name)," "),r.a.createElement("th",null,r.a.createElement("img",{src:t.opponent.badgeUrls.small,alt:t.opponent.name}),r.a.createElement("p",null,t.opponent.name)," "))),r.a.createElement("tbody",null,function(e,a){for(var t=[],n=0;n<14;n++){var l=e[n],c=a[n];t.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,l.mapPosition," ",l.name," - ",l.townhallLevel),r.a.createElement("td",null,c.mapPosition," ",c.name," - ",c.townhallLevel)))}return t}(n((a=t).clan.members),n(a.opponent.members)))))},v=t(34),w=t(19),_=t(15),L=t.n(_);function O(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?O(t,!0).forEach((function(a){Object(v.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var j=function(e){var a=e.clanLeagueWarTag,t=function(e,a){return e.order<a.order?-1:e.order<a.order?1:0};var n=function(e,a,t,n){return r.a.createElement("td",{className:n?L.a.Winner:L.a.Looser},r.a.createElement("p",null,r.a.createElement("b",null,t,". th",a)," ",e))},l=function(e){var a=function(e){var a=[].concat(Object(w.a)(e.clan.members.map((function(a){return k({},a,{clan:e.clan.name})}))),Object(w.a)(e.opponent.members.map((function(a){return k({},a,{clan:e.opponent.name})}))));return a.filter((function(e){return void 0!==e.attacks})).map((function(e){return e.attacks})).flat().map((function(e){return k({},e,{attackerName:a.find((function(a){return a.tag===e.attackerTag})),defenderName:a.find((function(a){return a.tag===e.defenderTag}))})})).sort(t)}(e),l=e.clan.name;return a.map((function(e,a){var t,c;return l===e.attackerName.clan?(t=n(e.attackerName.name,e.attackerName.townhallLevel,e.attackerName.mapPosition,!0),c=n(e.defenderName.name,e.defenderName.townhallLevel,e.defenderName.mapPosition,!1)):(t=n(e.defenderName.name,e.defenderName.townhallLevel,e.defenderName.mapPosition,!1),c=n(e.attackerName.name,e.attackerName.townhallLevel,e.attackerName.mapPosition,!0)),r.a.createElement("tr",{key:a},function(e){return r.a.createElement("td",null,e)}(a),t,function(e){var a=e.stars,t=e.destructionPercentage;return r.a.createElement("td",null,r.a.createElement("p",null,t,"%"),r.a.createElement("p",null,"\u2b50".repeat(a)))}(e),c)}))};return r.a.createElement("div",null,r.a.createElement("table",{className:L.a.CompareTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement("img",{src:a.clan.badgeUrls.small,alt:"clanBadge"}),r.a.createElement("p",null,a.clan.name)," "),r.a.createElement("th",null,"castigator"),r.a.createElement("th",null,r.a.createElement("img",{src:a.opponent.badgeUrls.small,alt:"clanBadge"}),r.a.createElement("p",null,a.opponent.name)," "))),r.a.createElement("tbody",null,l(a))))},y=t(35),C=t.n(y).a.create({baseURL:"https://dodolandia.herokuapp.com/",headers:{common:{}}}),N=function(e){return C.get("".concat("/api/v2/coc","/clanLeagueSync/").concat(e))},P=function(e){return C.get("".concat("/api/v2/coc","/clanLeagueWarsSync/").concat(e))},T=t(6),x=function(e){var a=e.match,t=Object(T.g)().tag;console.log("props.tag:",t,a);var l=Object(n.useState)(!1),c=Object(o.a)(l,2),m=c[0],s=c[1],u=Object(n.useState)(null),i=Object(o.a)(u,2),b=i[0],E=i[1],f=function(){var e=Object(p.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),console.log("request data to server for tag:",t),e.next=5,P(t);case 5:a=e.sent,E(a.data),console.log("data.received: ",a.data),s(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("mounted"),f()}),[a]);var v;return r.a.createElement("div",null,m?r.a.createElement("p",{className:g.a.Loading},"Loading ",t):(v=b,console.log("info war is:",v,b,m),null===b?null:r.a.createElement("div",null,r.a.createElement(j,{clanLeagueWarTag:v})," ",r.a.createElement(h,{clanLeagueWar:v}))))},W=t(38),M=t(12),U=t.n(M),S=t(5),B=Object(T.h)((function(e){var a=e.open,t=void 0===a||a,l=Object(n.useContext)(H),c=(l.state,l.dispatch),m=Object(n.useState)(null),s=Object(o.a)(m,2),u=s[0],i=s[1],b=Object(n.useState)("YQP0P9PP"),g=Object(o.a)(b,2),E=g[0],f=g[1],h=Object(n.useState)(!1),v=Object(o.a)(h,2),w=v[0],_=v[1],L=function(){var e=Object(p.a)(d.a.mark((function e(a){var t,n,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"YQP0P9PP",e.prev=1,_(!0),e.next=5,N(t);case 5:n=e.sent,i(n.data),c({type:"UPDATE_CWL",data:n.data}),_(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),_(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}();function O(e){return"/cwl/war/"+e.replace(/#/,"")}var k=[U.a.Sidebar,t?U.a.Open:U.a.Close].join(" ");return r.a.createElement("div",{className:k},"#",r.a.createElement("input",{value:E,onChange:function(e){f(e.target.value)}}),r.a.createElement("button",{onClick:L,disabled:w}," Cauta "),r.a.createElement("ul",{className:U.a.LinksList},r.a.createElement("li",null,r.a.createElement(S.b,{to:"/"},"CWL")),function(e){return null===e?null:e.rounds.map((function(e,a){return console.log(e),r.a.createElement("li",{key:a},r.a.createElement("div",null,r.a.createElement("p",null,"round ",a),r.a.createElement(S.b,{to:O(e.warTags[0])},e.warTags[0]," "),r.a.createElement(S.b,{to:O(e.warTags[1])},e.warTags[1]," "),r.a.createElement(S.b,{to:O(e.warTags[2])},e.warTags[2]," "),r.a.createElement(S.b,{to:O(e.warTags[3])},e.warTags[3]," ")))}))}(u)))})),D=t(39),A=t.n(D),H=r.a.createContext("CWL"),J={cwl:null};function I(e,a){switch(console.log(a),a.type){case"UPDATE_CWL":return{cwl:a.data};default:return J}}var R=function(){var e=Object(n.useState)(!0),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useReducer)(I,J),m=Object(o.a)(c,2),s=m[0],i=m[1];return r.a.createElement("div",{className:"App"},r.a.createElement(H.Provider,{value:{state:s,dispatch:i}},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"Menu"},r.a.createElement(A.a,{isOpen:t,menuClicked:function(){return l(!t)},width:28,height:25,strokeWidth:1,rotate:0,color:"white",borderRadius:0,animationDuration:.2})),r.a.createElement("div",{className:"Title"},"Clan War League",r.a.createElement("p",{className:"Version"},"Made With ",r.a.createElement("span",{role:"img","aria-label":"love"},"\u2764\ufe0f")," By (_d0do_)  \xa9v",W.version))),r.a.createElement("article",{className:".Content"},r.a.createElement(B,{open:t}),r.a.createElement(T.d,null,r.a.createElement(T.b,{exact:!0,path:"/",component:u}),r.a.createElement(T.b,{exact:!0,strict:!0,sensitive:!0,path:"/cwl/war/:tag",component:x})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S.a,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.47ff6059.chunk.js.map